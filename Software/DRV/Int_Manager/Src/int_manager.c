/***********************************************************************************************************
 ********************************************* Included files **********************************************
 ***********************************************************************************************************/

// #include "SPI_MASTER/spi_master.h"
#include "ADC_MEASUREMENT_ADV/adc_measurement_adv.h"
#include "INTERRUPT/interrupt.h"

#include "int_manager.h"
#include "tmag.h"
#include "hal_adc.h"
#include "app_motor.h"
#include "app_counter.h"

/***********************************************************************************************************
 ************************************************* Defines *************************************************
 ***********************************************************************************************************/

/***********************************************************************************************************
 *********************************************** Data types ************************************************
 ***********************************************************************************************************/

/***********************************************************************************************************
 **************************************** Local function prototypes ****************************************
 ***********************************************************************************************************/

/***********************************************************************************************************
 ******************************************** Exported objects *********************************************
 ***********************************************************************************************************/


#include "DIGITAL_IO/digital_io.h"


void SPI_IrqRxCallback(void)
{
	// DIGITAL_IO_SetOutputHigh(&PIN_DEBUG);
	Tmag_TransferReady();
	// DIGITAL_IO_SetOutputLow(&PIN_DEBUG);
}

void ADC_IrqGroup0Callback(void)
{
	// DIGITAL_IO_SetOutputHigh(&PIN_DEBUG);
	Hal_Adc_ConversionReady(HAL_ADC_GROUP_0);
	// DIGITAL_IO_SetOutputLow(&PIN_DEBUG);
}

void ADC_IrqGroup1Callback(void)
{
	// DIGITAL_IO_SetOutputHigh(&PIN_DEBUG);
	Hal_Adc_ConversionReady(HAL_ADC_GROUP_1);
	// DIGITAL_IO_SetOutputLow(&PIN_DEBUG);
}


void TIM_IrqCommutationCallback(void)
{
	App_Motor_Async();

	// DIGITAL_IO_ToggleOutput(&PIN_DEBUG);
}

void TIM_IrqSystemCallback(void)
{
	App_Counter_Tick();
}

/***********************************************************************************************************
 ********************************************* Local objects ***********************************************
 ***********************************************************************************************************/

/***********************************************************************************************************
 ******************************************* Exported functions ********************************************
 ***********************************************************************************************************/

/***********************************************************************************************************
 ******************************************** Local functions **********************************************
 ***********************************************************************************************************/
